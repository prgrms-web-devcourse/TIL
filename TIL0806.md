# TIL(5ì¼ì°¨)
<br>

## **ğŸ“6ì¼ì°¨ JAVA ì‹¤ìŠµ í”„ë¡œì íŠ¸(ìˆ«ìì•¼êµ¬ ê²Œì„)**

### **ìš”êµ¬ì‚¬í•­ íŒŒì•…**
* **ê²Œì„ì˜ ë£°**
   1. ì •ë‹µì— í•´ë‹¹í•˜ëŠ” 3ìë¦¬ ìˆ«ìë¥¼ ëœë¤ìœ¼ë¡œ ë°›ëŠ”ë‹¤.
   2. 3ìë¦¬ ìˆ«ìë§Œí¼ ì…ë ¥ì„ ë°›ì•„ì„œ ì •ë‹µê³¼ ë¹„êµí•œë‹¤.
   3. "ìœ„ì¹˜"ì™€ "ìˆ«ì"ê°€ ê°™ìœ¼ë©´ Strike
   4. "ìœ„ì¹˜"ëŠ” í‹€ë¦¬ì§€ë§Œ "ìˆ«ì"ê°€ ì¡´ì¬í•˜ë©´ Ballì„ countí•œë‹¤.
   5. 3 strikeê°€ ì¢…ë£Œ 
   6. ì•„ë‹ì‹œ ì •ë‹µì„ ë§í ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤. 
* **ë™ì‘í™˜ê²½, ë°ì´í„°ì˜ ë²”ìœ„ ì„¤ì •**
  * ì—¬ê¸°ì„œëŠ” 3ìë¦¬ ìˆ«ìë¥¼ ì‚¬ìš©(í™•ì¥ ê°€ëŠ¥í•˜ë‹¤).
  * ì¤‘ë³µëœ ìˆ«ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
  * 1~9ì— í•´ë‹¹í•˜ëŠ” ìˆ«ìë§Œ ì‚¬ìš©í•œë‹¤.(0 ì‚¬ìš© ë¶ˆê°€)

* * *

### **íŒ¨í‚¤ì§€ êµ¬ì¡°**
<img width="270" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-09 á„‹á…©á„’á…® 10 01 32" src="https://user-images.githubusercontent.com/43923432/128712354-3fe7d6c6-8720-4728-9bcd-e0fe7f15e43e.png">

### **Flow Chart**
![á„‹á…£á„€á…®á„€á…¦á„‹á…µá†·á„‰á…¥á†¯á„€á…¨](https://user-images.githubusercontent.com/43923432/128718305-bea90203-699b-4229-9696-4d1ae38d6c2b.png)

``` java
//Application ì‹¤í–‰ 
public class App {
    public static void main(String[] args) {
        //Fakerë¥¼ ì´ìš©í•´ ëœë¤ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
        NumberGenerator generator = new FakerNumberGenerator();  
        Console console = new Console();
        new BaseBall(generator,console,console).run();
    }
}
```
``` java
@AllArgsConstructor
public class BaseBall implements Runnable{
    private final int COUNT_OF_NUMBERS = 5;

    private NumberGenerator numberGenerator;
    private Input input;
    private Output output;

    //ì‹¤í–‰ íŒŒíŠ¸
    @Override
    public void run() {
        Numbers answer = numberGenerator.generate(COUNT_OF_NUMBERS);

        while(true){
            String inputString = input.input("ìˆ«ìë¥¼ ë§ì¶°ë³´ì„¸ìš” : ");
            //Optionalë¡œ nullì¸ì§€ ê²€ì‚¬í•˜ê³  Stringê°’ ë³€í™˜
            Optional<Numbers> inputNumbers = parse(inputString);
            if(inputNumbers.isEmpty()){
                output.inputError();
                continue;
            }
            // ball,strike ê²€ì‚¬ ë¡œì§
            BallCount bc = ballCount(answer, inputNumbers.get());
            output.ballCount(bc);
            if(bc.getStrike() == COUNT_OF_NUMBERS){
                output.correct();
                break;
            }
        }
    }

    private BallCount ballCount(Numbers answer, Numbers inputNumbers) {
        AtomicInteger strike= new AtomicInteger();
        AtomicInteger ball = new AtomicInteger();

        answer.indexedForEach((a,i) -> {
            inputNumbers.indexedForEach((n,j) -> {
                //ê°™ì€ê²Œ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ return;
                if(!a.equals(n)) return;
                if(i.equals(j)) strike.addAndGet(1);
                else ball.addAndGet(1);
            });
        });
        return new BallCount(strike.get(), ball.get());
    }

    private Optional<Numbers> parse(String inputString) {
        if(inputString.length() != COUNT_OF_NUMBERS) return Optional.empty();

        //í•œê¸€ìí•œê¸€ìë¥¼ intë¡œ ë³€í™˜í•´ì„œ ê°€ì ¸ì˜¨ë‹¤(IntStream)
        long count = inputString.chars()
                .filter(Character::isDigit) //ìˆ«ìì¸ì§€ í•„í„°
                .map(Character::getNumericValue)
                .filter(i -> i>0)
                .distinct()
                .count();
        // ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìê°€ ì„ì—¬ ìˆëŠ” ê²½ìš° ì˜ˆì™¸ì²˜ë¦¬
        if(count != COUNT_OF_NUMBERS) return Optional.empty();

        return Optional.of(
                new Numbers(
                inputString.chars()
                        .map(Character::getNumericValue)
                        .boxed()
                        .toArray(Integer[]::new)
                )
        );
    }
```

## **ì •ë¦¬**
> ì´ë²ˆì£¼ì— ë°°ìš´ Optional, Interface, Stream í™œìš©ìœ¼ë¡œ ê°„ë‹¨í•œ ê²Œì„ ë¡œì§ê¹Œì§€ ì‹¤ìŠµí•˜ê²Œ ë˜ì—ˆëŠ”ë° ë‹¨ìˆœíˆ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œë§Œì„ ì´ìš©í•´ ë§Œë“œëŠ” ê²ƒë³´ë‹¤ ë‹¤ì–‘í•œ interfaceë¥¼ í™œìš©í•˜ëŠ” ìª½ì´ ë” íš¨ìœ¨ì ì´ê³  ì •ë§ JAVAë¥¼ í™œìš©í–ˆë‹¤ëŠ” ëŠë‚Œì„ ë§ì´ ë°›ì•˜ë‹¤. ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì„ ìì£¼ ì“°ë©´ì„œ ìµìˆ™í•´ ì ¸ì•¼ê² ë‹¤.ğŸ˜š 