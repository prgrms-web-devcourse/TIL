# TIL4

1주차를 마무리 지으면서 지금까지 배운 내용을 바탕으로 숫자야구 게임 설계하는 시간을 가졌다.

우선 그전에 의존성을 설정하는 부분을 보면서 gradle이 단순히 빌드 툴의 기능을 제공해주는것 뿐만아니라 의존성을 등록해주면 mavenCentral repository에서 라이브러리를 찾아서 등록해준다는 사실을 좀더 세세히 알 수 있었다.

이 과정이 있었기에 스프링 프레임워크를 사용할때도 라이브러리가 자동으로 등록이 되고 우리는 그저 import를 해서 사용하면 됬었던 것이다.

또한 숫자야구 게임 설계 프로젝트를 진행하면서 단순히 main 메서드에서 모든 기능을 구현했던 내 자신을 반성하였다. 이전에 살펴봤던 객체지향 프로그래밍을 위해 객체를 잘 나누고 서로간의 관계를 잘 맺는것이 중요했다.

이번 프로젝트를 진행하면서 이러한 객체를 나누는일과 연관관계 맺는 일을 직접 경험해보면서 앞으로 다른 프로젝트를 수행할때도 이러한 UML을 먼저 그려보는 연습을 해야겠다고 생각했다.

또한 flow chart를 간략하게라도 그리게 된다면 전체적인 틀을 빠르게 작성할 수 있기 때문에 훨씬 체계적이고 빠르게 프로그래밍을 해낼 수 있다는 사실또한 배울 수 있었다.

또 숫자야구 게임 구현 도중, ball과 strike 비교하는 메서드에서 함수형 인터페이스를 2번 겹쳐서 이중 for문을 도는 부분이 있었는데, 이 함수형 인터페이스 구현체 scope 밖의 변수를 read하는 것은 상관이 없지만 write하는 것이 불가능하다는 것 또한 배울 수 있었다.

아무래도 메서드를 구현하는 로직을 실제 비즈니스 로직에서 하다보니(람다 표현식의 특성때문에) 보니 일반적으로 메서드를 작성하는 것과 달랐다. 실제로 write를 하게 된다면 멀티 스레드 환경에서 여러 스레드가 동시에 ball 또는 strike 변수에 동시접근하여 race condtion이 발생하게 되므로 이를 **AtomicInteger 래퍼 클래스**로 바꿔야 한다는 사실을 알게 되었다.

또 프로젝트를 설계하면서 가장 중요한 **핵심 비즈니스 로직의 캡슐화**를 통해 최대한 **외부 의존성을 차단**하여 핵심 기능만을 수행하도록 하는것이 OOP적 설계의 핵심부분이라는 것을 경험할 수 있었다.

---

## Article

[원본 보기 : https://engineer-diary.tistory.com/72] 
