# TIL3

μ¤λμ€ μλ°”μ μΈν„°νμ΄μ¤μ™€ κ΄€λ ¨λ λ‚΄μ©μ„ κ³µλ¶€ν–λ‹¤.

μμ „μ— μλ°” μ¤ν”„λ§λ¶€νΈμ™€ μ¤ν”„λ§ λ°μ΄ν„° JPAλ¥Ό μ‚¬μ©ν•μ—¬ μ›Ήν”„λ΅μ νΈλ¥Ό ν–μ—λ”λ° μΈν„°νμ΄μ¤λ¥Ό ν•„μλ΅ μ‚¬μ©ν•΄μ•Ό ν–λ‹¤. μ¤λ λ”°λ΅ κ³µλ¶€λ¥Ό ν•λ©° μΈν„°νμ΄μ¤μ κΈ°λ¥μ„ ν™•μ‹¤ν•κ² μ΄ν•΄ν•  μ μμ—λ‹¤.

λ λ””ν΄νΈ λ©”μ†λ“λ¥Ό κ³µλ¶€ν–‡λ”λ°, μλ°” 8 μ΄μƒλ¶€ν„°λ” λ¶νΈν• μ μ„ λ§μ΄ ν•΄μ†ν•  μ μλ” μ—¬λ¬κ°€μ§€ κΈ°λ¥μ„ μ κ³µν•λ” κµ¬λ‚ κΉ¨λ‹¬μΌλ©΄μ„ λ””ν΄νΈ λ©”μ†λ“ λν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ©΄μ„ μƒκ²¨λ‚ λ¶νΈν• μ λ“¤μ„ ν•΄κ²°ν•  μ μλ‹¤λ” μ‚¬μ‹¤μ„ μ•κ² λμ—λ‹¤.

μ¶”κ°€μ μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤, μµλ… ν΄λμ¤, λλ‹¤ ν‘ν„μ‹μ„ κ³µλ¶€ν–λ”λ°, μ΄ λ¶€λ¶„μ— λ€ν•΄μ„λ” μ–΄λ ΄ν’‹μ΄ μ•κ³  μμ—μ§€λ§ λ§‰μƒ κ³µλ¶€λ¥Ό ν•΄λ³΄λ‹ μ •λ§ μ–΄λ ¤μ› λ‹¤. ν•¨μν• μΈν„°νμ΄μ¤μ™€ μµλ…ν΄λμ¤μ νΉμ„±μ„ μ‚΄λ ¤μ•Ό λλ‹¤ν‘ν„μ‹μΌλ΅ λ°”κΏ€ μ μλ‹¤λ” μ‚¬μ‹¤μ„ μ΄λ²μ— μ•κ² λμ—λ‹¤. μ—¬κΈ°μ„λ„ κ³„μ†μ μΌλ΅ DIκ°λ…μ΄ λ‚μ¤κ² λλ”λ°, μ‚¬μ‹¤ λ©”μ†λ“μ μΈμλ΅ ν•¨μλ¥Ό λ„£λ”λ‹¤λ”κ² μ •λ§ μ™€λ‹Ώμ§€ μ•μ•λ‹¤(consumer, predicate λ“±λ“±..). ν•μ§€λ§ μ΄λ¶€λ¶„ λν• κΌ­ μµμ™ν•΄μ Έμ„ λ‚΄κ²ƒμΌλ΅ λ§λ“¤μ–΄μ•Ό κ² λ‹¤κ³  μƒκ°ν–λ‹¤.

νΉν λλ‹¤ ν‘ν„μ‹μ—μ„ λ©”μ†λ“ λ νΌλ°μ¤λ¥Ό μ‚¬μ©ν•λ”λ°, μ•„μ§κΉμ§€λ” μµμ™ν•μ§€ μ•μ•„μ„ κ³„μ†ν•΄μ„ λλ‹¤ν‘ν„μ‹μ„ λ§λ“¤μ–΄λ³΄κ³  λ©”μ†λ“ λ νΌλ°μ¤λ΅ λ°”κΏ€ μ μλ‹¤λ©΄ λ§¤λ² λ°”κΏ”λ³΄λ©΄μ„ μ²΄ν™”ν•΄μ•Ό κ² λ‹¤.

---

### Article

[μ›λ³Έ λ³΄κΈ° : https://engineer-diary.tistory.com/62?category=999296, https://engineer-diary.tistory.com/63?category=999296]

### λ””ν΄νΈ λ©”μ„λ“ λ€?

ν„μ¬ μΈν„°νμ΄μ¤λ” κµ‰μ¥ν λ§μ€ ν•νƒλ΅ μ‚¬μ©λκ³  μλ‹¤.

κ·Έλ¬λ‹¤λ³΄λ‹ μΈν„°νμ΄μ¤μ λ‹¨μ λ“¤μ΄ λ“λ¬λ‚κΈ° μ‹μ‘ν•μ€κ³  κ·Έκ²ƒμ„ ν•΄κ²°ν•κΈ°μ„ν•΄ λ‚μ¨κ²ƒμ΄ λ””ν΄νΈ λ©”μ„λ“(default method) μ΄λ‹¤.



μ°μ„  default methodμ μ—­ν• μ„ μ‚΄ν΄λ³΄μ.

λ””ν΄νΈ λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ©΄ μΈν„°νμ΄μ¤κ°€ κµ¬ν„μ²΄(λ©”μ†λ“μ κµ¬ν„λ¶€)λ¥Ό κ°€μ§ μ μκ² λλ‹¤.

```java
interface MyInterface { // μ¶”μƒ λ©”μ†λ“λ΅λ§ μ΄λ¤„μ§„ ν΄λμ¤ == μΈν„°νμ΄μ¤
    void method1(); // κµ¬ν„μ΄ μ—†λ‹¤ : μ¶”μƒ λ©”μ†λ“

    default void sayHello() { // κµ¬ν„μ΄ μλ‹¤ (μλ°” 8 λ¶€ν„° μ΄λ° κµ¬ν„ λ©”μ†λ“λ¥Ό μΈν„°νμ΄μ¤κ°€ κ°€μ§ μ μλ‹¤) λ€μ‹  default ν‚¤μ›λ“λ¥Ό μ¨μ¤μ•Ό ν•¨
        System.out.println("Hello World");
    }
}

public class Main implements MyInterface{
    public static void main(String[] args) {
        new Main().sayHello();
    }

    @Override
    public void sayHello() {
        System.out.println("Bye World");
    }

    @Override
    public void method1() {
        throw new RuntimeException();
    }
}
```

MyInterfaceλΌλ” μΈν„°νμ΄μ¤μ— sayHello λ””ν΄νΈ λ©”μ†λ“λ΅ μ„ μ–Έν•μ—¬ μΈν„°νμ΄μ¤ μ•μ—μ„ sayHello λ©”μ†λ“λ¥Ό κµ¬ν„ν•κ³  μλ‹¤. μ΄κ² λ°”λ΅ λ””ν΄νΈ λ©”μ†λ“μ μ—­ν• μ΄λ‹¤.



κ·ΈλΌ μ΄ λ””ν΄νΈ λ©”μ†λ“λ” λ„λ€μ²΄ μ™ λ“±μ¥ν•κ² λ κ²ƒμΌκΉ?

μ•„λ μμ‹λ¥Ό μ‚΄ν΄λ³΄μ.

`MyInterface.java`

```java
interface MyInterface {
    void method1();
    void method2();
    void method3();
    void method4();
    void method5();
    void method6();
    void method7();
}
```

`MyInterfaceAdapter.java`

```java
public class MyInterfaceAdapter implements MyInterface{
    @Override
    public void method1() {}

    @Override
    public void method2() {}

    @Override
    public void method3() {}

    @Override
    public void method4() {}

    @Override
    public void method5() {}

    @Override
    public void method6() {}

    @Override
    public void method7() {}
}
```

`Main.java`

```java
public class Main {
    public static void main(String[] args) {
        new Service().method1();
    }
}

class Service extends MyInterfaceAdapter {

    @Override
    public void method1() {
        System.out.println("Hello World");
    }
}
```



λ§μ•½ μΈν„°νμ΄μ¤μ— λ©”μ†λ“κ°€ μ—„μ²­ λ§μ€λ°, λ‚΄κ°€ μ“°κ³  μ‹¶μ€ λ‡κ°μ λ©”μ†λ“λ§μ„ μ¤λ²„λΌμ΄λ”©ν•΄μ„ μ“°κ³  μ‹¶μ€ μƒν™©μ΄ μƒκΈ°κ² λλ‹¤. (μ„ κ·Έλ¦Όμ—μ„ MyInterface λ©”μ†λ“ 7κ°λ¥Ό μ„ μ–Έν•μ€λ”λ°, μΈν„°νμ΄μ¤μ λ©”μ†λ“κ°€ λ§λ‹¤κ³  κ°€μ •ν•κ³  λ§λ“  λ©”μ†λ“μ΄λ‹¤) 

κ·Έλ ‡κ² λλ©΄ μ΄ Myinterfaceλ¥Ό implementsν•λ” μΈ΅μ—μ„ λ¨λ“  λ©”μ†λ“λ¥Ό κµ¬ν„ν•κ³  μ‚¬μ©ν•΄μ•Ό ν•λ―€λ΅, λ‚΄κ°€ μ“°κ³  μ‹¶μ€ λ‡κ° λΏλ§ μ•„λ‹λΌ μ“°μ§€ μ•μ„ λ©”μ†λ“κΉμ§€ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.

μ΄λ• MyInterfaceAdapterλΌλ” ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ„ MyInterface μΈν„°νμ΄μ¤λ¥Ό implements ν•κ³  λΉ λ©”μ†λ“λ¥Ό λ§λ“¤μ–΄ λ†“κΈ°λ§ ν•λ©΄ λλ‹¤. κ·Έλ¦¬κ³  μ΄ MyInterfaceAdapterλ¥Ό μ‚¬μ©ν•  ν΄λμ¤(μ„ μ½”λ“μ—μ„λ” Service κ°μ²΄)μ—μ„ extends ν•λ©΄ λ‚΄κ°€ μ“°μ§€μ•μ„ λ©”μ†λ“λ¥Ό κµ¬ν„ν•  ν•„μ” μ—†μ΄ ν•„μ”λ΅ν•λ” λ©”μ†λ“λ§ μ¤λ²„λΌμ΄λ“ν•μ—¬ κµ¬ν„ν•  μ μκ² λλ‹¤. (Adapterμλ―Έ μ²λΌ μ¤‘κ°„μ μ—­ν• μ„ μν–‰ν•λ‹¤.)

μ΄λ ‡κ² ν•λ©΄ κµ‰μ¥ν λ¬Έμ λ¥Ό μ ν•΄κ²°ν• λ“― λ³΄μ΄μ§€λ§ μ—­μ‹λ‚ λ¶νΈν• μ μ΄ μ΅΄μ¬ν•λ‹¤.

```java
class Service extends A implements MyInterface {}
```

μ΄μ™€ κ°™μ΄ Serviceν΄λμ¤κ°€ μ΄λ―Έ Aλ¥Ό μƒμ†ν•κ³  μλ‹¤λ©΄? 

μλ°”λ” λ‹¤μ¤‘ μƒμ†μ„ μ§€μ›ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ–΄μ©” μ μ—†μ΄ MyInterfaceλ¥Ό λ‹¤μ‹ implementsν•΄μ•Όν•κ³ , λ λ‹¤μ‹ λ¨λ“  λ©”μ†λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•  μ λ°–μ— μ—†κ² λλ‹¤.

**μ΄λ• λ””ν΄νΈ λ©”μ†λ“μ μ§„κ°€λ¥Ό λ°νν•κ² λλ‹¤.**

κ·Έλƒ¥ Myinterface μ λ¨λ“  λ©”μ†λ“λ¥Ό λ””ν΄νΈ λ©”μ†λ“λ΅ λ°”κΎΈλ©΄ λ¨λ“  λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μκ³ , λ”μ΄μƒ Adapter κ°μ²΄λ¥Ό λ”°λ΅ λ§λ“¤ ν•„μ”κ°€ μ—†μ–΄μ§€κ² λλ‹¤.

`MyInterface.java`

```java
interface MyInterface {
    default void method1() {};
    default void method2() {};
    default void method3() {};
    default void method4() {};
    default void method5() {};
    default void method6() {};
    default void method7() {};
}
```

`Main.java`

```java
public class Main {
    public static void main(String[] args) {
        new Service().method1();
    }
}

class Service extends A implements MyInterface { 
    // MyInterfaceμ λ¨λ“  λ©”μ†λ“κ°€ λ””ν΄νΈ λ©”μ†λ“ μ΄λ―€λ΅ λ‚΄κ°€ μ‚¬μ©ν•κ³ μν•λ” λ©”μ†λ“λ§ μ¤λ²„λΌμ΄λ“ν•΄μ„ μ‚¬μ© κ°€λ¥!
    @Override
    public void method1() {
        System.out.println("Hello World");
    }
}
```



λ””ν΄νΈ λ©”μ†λ“μ ν™μ© μλ¥Ό μ‚΄ν΄λ³΄μ.

`Ability.java`

```java
// interfaceμ— static λ©”μ†λ“λ„ κµ¬ν„κ°€λ¥ (μΈν„°νμ΄μ¤ μ΄λ¦„μΌλ΅ μ ‘κ·Ό κ°€λ¥)
public interface Ability {
    static void sayHello() {
        System.out.println("Hello World");
    }
}

interface Flyable {
    default void fly(){
        System.out.println("FLY");
    }
}

interface Swimmable {
    default void swim() {
        System.out.println("SWIM");
    }
}

interface Walkable {
    default void walk() {
        System.out.println("WALK");
    }
}
```

μ—¬κΈ°μ„ Ability μΈν„°νμ΄μ¤λ¥Ό λ³΄λ©΄ static λ©”μ†λ“λ¥Ό κµ¬ν„ν• κ²ƒμ„ ν™•μΈν•  μ μλ”λ°, μ¦‰ μ΄ Abilityλ” sayHelloλΌλ” λ©”μ†λ“λ¥Ό μ κ³µν•΄μ£Όκ² λκ³  λ©”μ†λ“κ°€ ν•κ°μμΌλ―€λ΅ κ·Έλƒ¥ ν•¨μλ΅ λ³Ό μ μλ‹¤. κ·Έλμ„ **Ability μΈν„°νμ΄μ¤λ” sayHelloλΌλ” ν•¨μλ¥Ό μ κ³µν•΄μ¤€λ‹¤** λΌκ³  λ§ν•  μ μλ‹¤.

μ°λ¦¬κ°€ λ§ν•λ” λ©”μ†λ“λ” ν΄λμ¤ μ•μ— μΆ…μ†λ(κµ¬ν„λ) ν•¨μλΌκ³  ν‘ν„μ„ ν•λ‹¤. 

> κ·Όλ° μλ°” 8 λ¶€ν„°λ” functionμ΄λΌκ³  κµ¬λ¶„ν•΄μ„ λ¶€λ¥΄λ” κ²ƒλ“¤μ΄ μƒκ²¨λ‚κΈ° μ‹μ‘ν•¨ ex) functional interface

`Main.java`

```java
// default λ©”μ†λ“λ¥Ό μ΄μ©ν•λ©΄ μ•„λμ—μ„ Duck, Swan ν΄λμ¤μ—μ„
// κµ¬ν„ν•΄ μ¤„ ν•„μ”κ°€ μ—†μΌλ―€λ΅ ν›¨μ”¬ κΉ”λ”ν•κ² μ½”λ“λ¥Ό μ§¤ μ μλ‹¤.
class Duck implements Swimmable, Walkable {}

// Swanμ΄ swimμ΄ κ°€λ¥ν•λ‹¤λ©΄ κ·Έλƒ¥ implementsλ΅ ν•λ‚ λ„£μ–΄μ£ΌκΈ°λ§ ν•λ©΄ μ•„λ¬΄λ° κµ¬ν„ μ—†μ΄ κΈ°λ¥μ΄ ν™•μ¥λ¨
class Swan implements Flyable, Walkable,Swimmable {}

public class Main {
    public static void main(String[] args) {
        new Duck().swim();
        new Duck().walk();
        new Swan().fly();
        new Swan().swim();
        Ability.sayHello(); // static λ©”μ†λ“λ¥Ό μΈν„°νμ΄μ¤ μ΄λ¦„μΌλ΅ μ ‘κ·Ό
    }
}
```

π‘‰result

```
SWIM
WALK
FLY
SWIM
Hello World
```

μ΄μ²λΌ λ””ν΄νΈ λ©”μ†λ“λ΅ λ―Έλ¦¬ κµ¬ν„ν•΄λ†“κ³  Duckμ΄λ‚ Swanμ— μ–΄μΈλ¦¬λ” μΈν„°νμ΄μ¤λ¥Ό implementsν•μ—¬ κΈ°λ¥μ„ μ¶”κ°€ν•  μ μλ‹¤.

---

### ν•¨μν• μΈν„°νμ΄μ¤, μµλ…ν΄λμ¤, λλ‹¤ ν‘ν„μ‹μ΄λ€?

μλ°” 8μ—μ„ `ν•¨μ`λΌλ” λ‹¨μ„κ°€ κ³„μ† μ–ΈκΈ‰λκ³  μλ‹¤.

κ±°κΈ°μ„ `ν•¨μν• μΈν„°νμ΄μ¤` λΌλ” ν‚¤μ›λ“κ°€ λ“±μ¥ν•κ² λλ‹¤. μ°μ„  μ΄ ν•¨μν• μΈν„°νμ΄μ¤κ°€ λ¬΄μ—‡μΈμ§€ μ‚΄ν΄λ³΄μ.

```java
// νΉλ³„ν ν•¨μν• μΈν„°νμ΄μ¤λΌλ” κ±Έ μ•λ ¤μ£ΌκΈ° μ„ν• μ• λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ£ΌκΈ°λ„ ν•¨
@FunctionalInterface
public interface MyRunnable {
    void run(); // μ¶”μƒ λ©”μ†λ“κ°€ ν•λ‚λ°–μ— μ—†λ” λ©”μ†λ“ == ν•¨μν• μΈν„°νμ΄μ¤
}

// μ–λ” μ¶”μƒ λ©”μ†λ“κ°€ 2κ°μ΄λ―€λ΅ ν•¨μν• μΈν„°νμ΄μ¤κ°€ λ  μ μ—†λ‹¤.
interface MyRunnable2 {
    void run1();
    void run2();
}

// μ–λ„ ν•¨μν• μΈν„°νμ΄μ¤λ‹¤. μ™λƒλ©΄ 'μ¶”μƒ' λ©”μ†λ“λ” ν•λ‚μ΄κΈ° λ•λ¬Έμ΄λ‹¤.
// default, static methodκ°€ μλ” κ²ƒμ€ ν•¨μν• μΈν„°νμ΄μ¤μ κ²°μ •κ³Ό μƒκ΄€ μ—†λ‹¤.
@FunctionalInterface
interface MyMap {
    void map();
    default void sayHello() {
        System.out.println("Hello World");
    }
    static void sayBye() {
        System.out.println("Bye World");
    }
}
```

μ¦‰ ν•¨μν• μΈν„°νμ΄μ¤λ” default, static λ©”μ†λ“μ™€ μƒκ΄€μ—†μ΄ μ¶”μƒλ©”μ†λ“ λ”± 1κ° λ§ κ°€μ§€κ³  μμ–΄μ•Ό ν•¨μν• μΈν„°νμ΄μ¤λΌκ³  ν•  μ μλ‹¤.

> FunctionalInterfaceμ— μλ” μ¶”μƒλ©”μ†λ“λ¥Ό ν•¨μλΌκ³  λ¶€λ¥Έλ‹¤.



κ·ΈλΌ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ™ μ‚¬μ©ν• κΉ? 

ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚΄ν΄λ³΄κΈ°μ „μ— **μµλ… ν΄λμ¤**μ™€ **λλ‹¤ ν‘ν„μ‹**μ„ μ΄ν•΄ν•΄μ•Ό ν•λ‹¤.

μ°μ„  μΈν„°νμ΄μ¤λ΅ μΈν•΄ λ¶νΈν• μ μ„ μ‚΄ν΄λ³΄μ.

`MyRunnable.java`

```java
@FunctionalInterface
public interface MyRunnable {
    void run();
}
```

`MySupply.java`

```java
public interface MySupply {
    String supply();
}
```

`Main.java`

```java
package com.programmers.java.func;

class Greeting implements MySupply {

    @Override
    public String supply() {
        return "Hello World";
    }
}

class SayHello implements MyRunnable {

    @Override
    public void run() {
        System.out.println(new Greeting().supply());
    }
}

public class Main {
    public static void main(String[] args) {
        new SayHello().run();
    }
}

// μ—¬κΈ°μ„ μ΄ sayHello ν΄λμ¤κ°€ λ§λ“¤μ–΄μ§„ μ΄μ λ” MyRunnableμ€ μΈν„°νμ΄μ¤κΈ° λ•λ¬Έμ—
// μΈμ¤ν„΄μ¤λ¥Ό new ν‚¤μ›λ“λ΅ μƒμ„±ν•  μ μ—†κΈ° λ•λ¬Έμ— sayHello ν΄λμ¤κ°€ μμ–΄μ•Ό λΉ„λ΅μ†
// μΈν„°νμ΄μ¤μ λ©”μ†λ“λ¥Ό κµ¬ν„ν•μ—¬ νΈμ¶ν•  μ μκ² λλ‹¤.
```

MyRunnableκ³Ό MySupply μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ„μ‹ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό λ§ new ν‚¤μ›λ“λ¥Ό μ΄μ©ν• μΈμ¤ν„΄μ¤ μƒμ„±μ΄ κ°€λ¥ν•κ³  κ·Έμ μ„μ•Ό μΈν„°νμ΄μ¤μ λ©”μ†λ“λ¥Ό μ‚¬μ©ν•  μ μκ² λλ‹¤. μ΄λ΅ μΈν•΄ μ„μ‹μ μΈ ν΄λμ¤κ°€ κ³„μ† λμ–΄λ‚κ² λμ„ κ·€μ°®μ•„μ§„λ‹¤..

κ·Έλμ„ κ·Έλƒ¥ μΈν„°νμ΄μ¤μ§€λ§ new ν‚¤μ›λ“λ¥Ό μ΄μ©ν•μ—¬ μ‚¬μ©ν•  μ μ—†μ„κΉ? μƒκ°ν•κ² λ κ²ƒμ΄ λ°”λ΅ μµλ… ν΄λμ¤μ λ“±μ¥ λ°°κ²½μ΄λ‹¤.



```java
public class Main {
    public static void main(String[] args) {
        
        
        //new class XXX implements MySupply {
        //    @Override
        //    public String supply() {
        //        return "Hello World";
        //    }
        //}.supply();
        // μ›λλ” μ΄λ ‡κ² classλ¥Ό λ§λ“¤μ–΄μ„ μ¶”μƒλ©”μ†λ“λ¥Ό κµ¬ν„ν•μ—¬ new ν‚¤μ›λ“λ¥Ό μ΄μ©ν–μ.
    }
}
```



```java
public class Main {
    public static void main(String[] args) {
        
        // μΈν„°νμ΄μ¤λ¥Ό new ν•¨μΌλ΅μ¨ μ„μ‹ ν΄λμ¤ μƒμ„± μ•ν•΄λ„ λ¨
        // μ΄λ¦„ μ—†λ” ν΄λμ¤λ¥Ό μƒμ„± => μµλ… ν΄λμ¤
        // κµ³μ΄ class μƒμ„±μ—†μ΄ μ‚¬μ© κ°€λ¥ν•κ² ν•¨ (μ–΄μ§ν”Ό class λ§λ“λ”κ±΄ λ»”ν•λ‹κΉ)
        new MySupply() {
            @Override
            public String supply() {
                return "Hello World";
            }
        }.supply();
    }
}
```

μ΄μ™€ κ°™μ΄ μµλ… ν΄λμ¤λ¥Ό λ§λ“λ” μ•„μ΄λ””μ–΄λ¥Ό ν†µν•΄ μΈν„°νμ΄μ¤λ¥Ό new ν‚¤μ›λ“λ΅ μƒμ„±ν•  μ μλ‹¤.

μ•„λλ” λ™μ‘ μ½”λ“λ¥Ό μ‘μ„±ν• κ²ƒμ΄λ‹¤.

```java
public class Main {
    public static void main(String[] args) {
        
        MyRunnable r = new MyRunnable() {
            @Override
            public void run() {
                MySupply s = new MySupply() {
                    @Override
                    public String supply() {
                        return "Hello Hello"; 
                    }
                };
                System.out.println(s.supply());
            }
        };
        r.run();
    }
}
```

π‘‰result

```
Hello World
```



μµλ… ν΄λμ¤λ¥Ό λ§λ“¤ μ μλ‹¤λ©΄, μµλ… λ©”μ†λ“λ„ λ§λ“¤ μ μμ§€ μ•μ„κΉ? μƒκ°ν•κ² λ¨.

```java
public class Main2 {
    public static void main(String[] args) {
        // μΈμ¤ν„΄μ¤κ°€ λ§λ“¤μ–΄μ§€λ©΄ κµ¬ν„λ¶€κ°€ ν•„μ”ν•λ‹κΉ μ •μμ™€ ν•¨κ» κµ¬ν„λ¶€λ¥Ό λ°”λ΅ λ„£μ–΄μ¤
        MyRunnable r1 = new MyRunnable() {
            // Override ν•λ” λ¶€λ¶„λ¶€ν„° λ’¤μ½μ€ λ„λ¬΄ λ»”ν•κ² λ“±μ¥ν•΄μ•Ό ν•λ” κ²ƒλ“¤μ„.
            @Override
            public void run() {
                System.out.println("Hello");
            }
        };
        // μ„ μ½”λ“λ” 'μµλ… ν΄λμ¤'λ¥Ό μ‚¬μ©ν• κ±°λ‹¤.
        
        // μ„ μ½”λ“λ¥Ό μ•„λμ™€ κ°™μ΄ κ°„λ‹¨ν•κ² λ§λ“¤ μ μλ‹¤. (μµλ… λ©”μ†λ“λ¥Ό μ‚¬μ©ν• κ²ƒμ„)
        // μµλ… λ©”μ†λ“λ¥Ό μ‚¬μ©ν•΄μ„ ν‘ν„ν•λ” λ°©λ²• : λλ‹¤ ν‘ν„μ‹
        MyRunnable r2 = () -> {
            System.out.println("Hello");
        }
        
        // MyRunnable r2 = () -> System.out.println("Hello"); μ΄λ ‡κ² ν•μ¤„ λ°–μ— μ—†μΌλ©΄ {} μ¤‘κ΄„νΈ κΉμ§€λ„ μƒλµ κ°€λ¥. 
        // MyRunnable r2 = () -> (return) "Hello"; μ΄μ²λΌ λ§μ•½ MyRunnable μ— μλ” μ¶”μƒ λ©”μ„λ“μ λ°ν™ νƒ€μ…μ΄ μμΌλ©΄ returnμ„ ν•΄μ¤μ•Όν•λ”λ°, μ΄ λν• ν•μ¤„μ΄λ©΄ μ¤‘κ΄„νΈλ¥Ό μƒλµν–λ“―μ΄ return λν• μƒλµν•  μ μλ‹¤.
        
    }
}
```

μ—¬κΈ°μ„ MyRunnableμ€ ν•¨μν• μΈν„°νμ΄μ¤ μ΄λ―€λ΅ μ–΄μ§ν”Ό κµ¬ν„ν•΄μ•Όν•  μ¶”μƒ λ©”μ„λ“κ°€ 1κ°μΈ κ²ƒμ€ λ»”ν•λ‹¤.

ν„μ¬ μ„ μ½”λ“λ” r1, r2 λ™μΌν•λ°, @Override, public, void, run μ΄ λ¨λ“ κ²ƒλ“¤μ€ λ¬΄μ΅°κ±΄ λ‚μ™€μ•Ό ν•λ” κ²ƒλ“¤μ΄κΈ° λ•λ¬Έμ— μƒλµμ΄ κ°€λ¥ν•λ‹¤. (μ΄κ² κ°€λ¥ν• μ΄μ λ” μ¶”μƒλ©”μ†λ“κ°€ 1κ°μΈ ν•¨μν• μΈν„°νμ΄μ¤ μ΄κΈ° λ•λ¬Έμ— κ°€λ¥) 

μƒλµν•κ³  λ‚λ©΄ ()κ³Ό {}μ΄ λ‚¨κ² λλ‹¤.

() : μΈμ λ°›λ” λ¶€λ¶„ 

 {} : κµ¬ν„ λΈλ©μ–΄λ¦¬ κ°€ λ‚¨κ² λλ”λ° μ΄λ“¤μ€ κµ¬λ¶„ν•  ν•„μ”κ°€ μμΌλ―€λ΅ -> ν™”μ‚΄ν‘λ¥Ό ν†µν•΄ κµ¬λ¶„ν•΄ μ¤€λ‹¤.

μ—¬κΈ°μ„ r2μ²λΌ κµ¬ν„ λ κ²ƒμ„ **λλ‹¤ ν‘ν„μ‹** μ΄λΌκ³  ν•λ‹¤.



λ§μ•½ MyRunnable2 λΌλ” μΈν„°νμ΄μ¤κ°€ μκ³ , μ¶”μƒλ©”μ„λ“κ°€ void run1(), void run2(), μ΄ 2κ° μλ‹¤κ³  ν•΄λ³΄μ.

κ·ΈλΌ μ΄ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μ μ—†λ‹¤.

```java
MyRunnable2 r3 = () -> {};
```

μ—¬κΈ°μ„ run1 λ©”μ†λ“λ¥Ό μ΄μ©ν•μ—¬ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“ κ²ƒμΈμ§€ run2 λ©”μ†λ“λ¥Ό μ΄μ©ν•μ—¬ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“  κ²ƒμΈμ§€ μ• λ°©λ²•μ΄ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.

> μ¦‰, ν•¨μν• μΈν„°νμ΄μ¤μ νΉμ„±μΌλ΅ μΈν•΄ μµλ…ν΄λμ¤, μµλ…λ©”μ†λ“μ λ»”ν• λ¶€λ¶„μ„ μƒλµμ‹ν‚¬ μ μκ²λκ³ , μµμΆ…μ μΌλ΅ μƒλµν• ν•νƒλ¥Ό λλ‹¤ν‘ν„μ‹μ΄λΌκ³  λ¶€λ¥΄κ² λλ” κ²ƒμ΄λ‹¤. ( μ΄ νλ¦„μ„ μ΄ν•΄ν•λ”κ² κµ‰μ¥ν μ¤‘μ”ν•λ‹¤. )



μ•μ„ μµλ… ν΄λμ¤λ΅ μ‘μ„±ν• μ½”λ“λ¥Ό μ•„λμ™€ κ°™μ΄ ν™• μ¤„μΌ μ μλ‹¤.

```java
public class Main2 {
    public static void main(String[] args) {
        MyRunnable r = () -> {
            MySupply s = () -> "Hello Hello";
            System.out.println(s.supply())''
        };
        r.run();
    }
}
```

π‘‰result

```
Hello Hello
```

**κ²°κµ­ μ½”λ“λ¥Ό κΉ”λ”ν•κ² μ‘μ„±ν•κΈ° μ„ν•΄ ν•¨μν• μΈν„°νμ΄μ¤κ°€ ν•„μ”ν–κ³ , ν•¨μν• μΈν„°νμ΄μ¤μ νΉμ„±μΌλ΅ μΈν•΄ μµλ…ν΄λμ¤μ™€ μµλ…λ©”μ†λ“μ λ»”ν• μ½”λ“λ¥Ό μ‚­μ ν•κ³  λλ‹¤ν‘ν„μ‹μΌλ΅ κΉ”λ”ν•κ² ν‘ν„ν•  μ μκ² λ κ²ƒμ΄λ‹¤**

---

## λλ‹¤ ν‘ν„μ‹ μ—°μµ

`MyConsumer.java`

```java
@FunctionalInterface
public interface MyConsumer {
    void consume(int i);
}
```

`MyMapper.java`

```java
@FunctionalInterface
public interface MyMapper {
    int map(String s);
}
```

`MyRunnable.java`

```java
@FunctionalInterface
public interface MyRunnable {
    void run();
}
```

`MySupplier.java`

```java
@FunctionalInterface
public interface MySupplier {
    String supply();
}
```

`Main.java`

```java
public class Main {
    public static void main(String[] args) {
        MySupplier s = () -> "Hello World";

        MyMapper m = (str) -> str.length();
        //MyMapper m = String::length; // λ©”μ†λ“ λ νΌλ°μ¤

        MyConsumer c = (i) -> System.out.println(i);
        //MyConsumer c = System.out::println; // λ©”μ†λ“ λ νΌλ°μ¤
        MyRunnable r = () -> c.consume(m.map(s.supply()));

        r.run();
    }
}
```

μ—¬κΈ°μ„ μΈν…”λ¦¬μ μ΄κ°€ λ…Έλ€μ¤„μ„ λ³΄μ—¬μ£Όλ”λ°, μ΄λ• alt + intsertλ¥Ό μ΄μ©ν•λ©΄

λ©”μ†λ“ λ νΌλ°μ¤κ°€ μ μ©λλ‹¤.

λ©”μ†λ“ λ νΌλ°μ¤λ” μ…λ ¥ λ°›μ€ κ°’μ΄ **λ³€κ²½ μ—†μ΄** λ°”λ΅ μ‚¬μ©ν•  λ• μ‚¬μ© κ°€λ¥ν•λ‹¤.



μ΄ λ©”μ†λ“ λ νΌλ°μ¤λ¥Ό μ“°λ” μ΄μ λ” λ“¤μ–΄μ¤λ” μΈν’‹ κ°’μ΄ λ³€κ²½μ—†μ΄ λ°”λ΅ μ‚¬μ©λλ”λ°, μ½”λ“λ¥Ό κ³µμ ν•λ” μƒν™©μ΄ μ¤λ©΄ **μ‘μ„±μ**κ°€ μΈν’‹ κ°’μ„ λ³€κ²½μ—†μ΄ λ°”λ΅ μ‚¬μ©ν•λ” κ²ƒμ„ **κ°•μ΅°**ν–λ‹¤κ³  λ‚΄ν¬ν•  μ μλ” μλ―Έμ—μ„ λ©”μ†λ“ λ νΌλ°μ¤λ¥Ό μ‚¬μ©ν•κ² λλ‹¤. (μ…λ ¥ κ°’μ„ λ³€κ²½ν•μ§€ λ§λΌλ” ν‘ν„ λ°©μ‹μ΄λ‹¤.)



μ„ μμ μ—μ„ MySupplierκ°€ ν„μ¬λ” Stringμ„ λ°ν™ν•λ”λ°, λ§μ•½ λ‹¤λ¥Έ ν•μΌλ΅ νƒ€μ…μ„ λ°ν™ν•κ³  μ‹¶λ‹¤λ©΄? κ·Έλ•λ§λ‹¤ λ§¤λ² μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν• κΉ?

μ΄λ• μ‚¬μ©ν•λ”κ²ƒμ΄ **μ λ„¤λ¦­** μ΄λ‹¤.

μ λ„¤λ¦­μ„ μ‚¬μ©ν•μ—¬ μ•„λμ™€ κ°™μ΄ μ½”λ“λ¥Ό λ³€κ²½ν•  μ μλ‹¤.

(μ λ„¤λ¦­μ€ μ°Έμ΅°ν• νƒ€μ…λ§ μ‚¬μ©κ°€λ¥)

`MyConsumer.java`

```java
@FunctionalInterface
public interface MyConsumer<T> {
    void consume(T t);
}
```

`MyMapper.java`

```java
@FunctionalInterface
public interface MyMapper<IN, OUT> {
    OUT map(IN s);
}
```

`MySupplier.java`

```java
@FunctionalInterface
public interface MySupplier<T> {
    T supply(); // μ λ„¤λ¦­μ„ μ΄μ©ν•μ—¬ TλΌλ” νƒ€μ…μ„ μ‚¬μ©
}
```

`Main.java`

```java
public class Main {
    public static void main(String[] args) {
        MySupplier<String> s = () -> "Hello World";

        MyMapper<String, Integer> m = String::length;
       
        // μ λ„¤λ¦­μ„ μ΄μ©ν•λ©΄ μ•„λμ™€ κ°™μ΄ νƒ€μ…μ„ λ³€κ²½ν•μ—¬ λ©”μ„λ“λ¥Ό λ°”κΏ€ μ μλ‹¤.
        MyMapper<Integer, Integer> m2 = i -> i*i;
        MyMapper<Integer, String> m3 = Integer::toHexString;

        MyConsumer<String> c = System.out::println;
        
        MyRunnable r = () -> 
            c.consume(
                		m3.map(
                        		m2.map(
                                		m.map(
                                        		s.supply()
                                		)
                        		)
                		) 
        		);
            
        r.run();

    }
}
```

π‘‰result

```
79
```

Hello World κΈΈμ΄κ°€ 11μ΄κ³  μ΄λ¥Ό μ κ³±ν• 121, κ·Έλ¦¬κ³  μ΄λ¥Ό 16μ§„μλ΅ λ°”κΎΈμ—μΌλ―€λ΅

κ²°κ³Όλ” 79(16) μ΄ λλ‹¤.

---

### λλ‹¤ ν‘ν„μ‹(ν•¨μν• μΈν„°νμ΄μ¤)μ„ μ΄μ©ν• λλ‹¤λ¥Έ μ



μ„μ—μ„ μ°λ¦¬κ°€ MyConsumer, MyMapper, MyRunnable, MySupplierκ°™μ€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄ λ΄¤λ”λ°, μλ°” 8μ—μ„ μ΄λ¥Ό λ―Έλ¦¬ λ§λ“¤μ–΄ λ‘μ—μ.

java 1.8 μ΄μƒλ¶€ν„° java.util.function μ•μ— μλ” μΈν„°νμ΄μ¤λ“¤μ΄ ν•¨μν• μΈν„°νμ΄μ¤λ΅ λμ–΄ μλ‹¤.

```java
public class Main2 {
    public static void main(String[] args) {
        // μ—¬κΈ°κ°€ νΈμ¤νΈλ‹¤.
        new Main2().loop(10, System.out::println);
    }

    void loop(int n, MyConsumer<Integer> consumer) {
        for(int i = 0; i< n; i++) {
            // λ°λ³µλ¬Έμ„ λ κ±΄λ°, iλ¥Ό μ…λ ¥μΌλ΅ μ¤μ„ λ­”κ°€λ¥Ό λ™μ‘ μ‹μΌμ•Ό ν•¨ == μ…λ ¥μ€ μκ³ , μ¶λ ¥μ€ λ”°λ΅ μ—†μ–΄λ„ λλ‹¤.
            // μ¦‰ MyConsumerμ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ©΄ λ¨.
            consumer.consume(i);
        }
    }
}

```

π‘‰result

```
0
1
2
3
4
5
6
7
8
9
```



μ΄ μ½”λ“μ—μ„ loop λ©”μ†λ“κ°€ λ§μ•½ μΈμλ΅ nλ§ λ°›κ³  nκΉμ§€μ ν•©μ„ λ”ν•λ” λ΅μ§μ„ μ§κ² λλ‹¤λ©΄ κ·Έλƒ¥ μ΄ loop λ©”μ†λ“κ°€ `κΈ°λ¥`μ„ μν–‰ν•κ² λλ‹¤.

κ·Όλ° μ΄ loop ν•¨μμ•μ—μ„ μμ²΄μ μΈ `κΈ°λ¥`μ„ μν–‰ν•μ§€ μ•κ³  μν–‰ν•΄μ•Ό ν•  κ²ƒμ„ μ™Έλ¶€λ΅ λ¶€ν„° μ „λ‹¬λ°›κ² ν•λ©΄ μΆ‹λ‹¤.

κµ¬μ²΄μ μΈ μ‚¬ν•­μ— λ€ν•΄μ„ λ‚΄κ°€ μ²λ¦¬ν•μ§€ μ•κ³ , λ’·μ½μΌλ΅ λ„κ²¨μ„ μµμΆ…μ μΌλ΅ νΈμ¤νΈκ°€ κ·Έ κ²°μ •μ„ ν•κ² λ§λ“λ” κ²ƒμ΄λ‹¤. 

κ²°κµ­, μ΄ loopλ” 'λ‚ (loop)λ” λ£¨ν”„(for)λ¥Ό λ„λ” κ²ƒμ—λ§ κ΄€μ‹¬μ΄ μκ³ (λ£¨ν”„λ¥Ό λ„λ” μ‘μ—…λ§ μ²λ¦¬ν•  κ±°κ³ ) κ·Έ μ™Έμ— λ‹¤λ¥Έ μ‘μ—…μ€, λ‹¤λ¥Έμ½μΌλ΅ λ„κ²¨μ¤„ ν…λ‹κΉ, λ‚λ¥Ό νΈμ¶ν•λ” μ½μ—μ„ μ •ν•λΌκ³  νΈμ¤νΈ μ½”λ“μ½μΌλ΅ λ„κΈ΄λ‹¤.

μ΄λ ‡κ² ν•λ©΄ loop λΌλ” λ©”μ†λ“κ°€ λ³Έμ—°μ κΈ°λ¥μ„ λ§μ΅±ν•λ©΄μ„λ„, νΈμ¤νΈ μ½”λ“λ” μμ‹ μ΄ μ›ν•λ” μΈμλ¥Ό λ„£μ–΄μ„ μ›ν•λ” κ²ƒμ„ μ–»μ„ μ μλ‹¤. (μ΄κ² μ•μ—μ„ μ„¤λ…ν• DIμ™€ κ°™μ€ μ›λ¦¬)

μ¦‰, κµ¬μ²΄μ μΌλ΅ μ–΄λ–¤ μΌμ„ ν• μ§€λ” λ‚λ¥Ό νΈμ¶ν•λ” μ‚¬λμ΄ μ•λ‹¤. μ΄λ° κ²½μ°μ— functional interfaceλ¥Ό μ‚¬μ©ν•  μ μμ.



λ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤ μλ¥Ό λ³΄μ.

```java
public class Main2 {
    public static void main(String[] args) {
        // μ—¬κΈ°κ°€ νΈμ¤νΈλ‹¤.
        new Main2().filteredNumbers(30,
                i -> i%2 == 0,
                System.out::println
        );
    }
    
    void filteredNumbers (int max, Predicate<Integer> p, Consumer<Integer> c) {
        for (int i=0; i<max; i++) {
            if(p.test(i)) c.accept(i);
        }
    }
}
```

π‘‰result

```
0
2
4
6
8
10
12
14
16
18
20
22
24
26
28
```

filteredNumbersλ” ν™€μλ¥Ό κ±°λ¥Έλ‹¤ λκ°€, μ§μλ¥Ό κ±°λ¥Έλ‹¤λκ°€ ν•λ” κΈ°λ¥μ΄ μ—†μ§€λ§ κ·Έλ° κΈ°λ¥μ„ μΈμλ΅ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ°›μ•„μ„ μν–‰ν•  μ μκ² λλ‹¤. (νΈμ¶ν•λ” μΈ΅μ—μ„, μ¦‰ μ™Έλ¶€μ—μ„ κ·Έ κΈ°λ¥μ„ μν–‰ν•κ² λλ‹¤) μ΄λ° μƒν™©μ—μ„ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ‹¤!