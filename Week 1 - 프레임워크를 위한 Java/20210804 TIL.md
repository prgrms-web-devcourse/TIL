___
# âœ 20210804 TIL

<br>

> ## âœ¨ Issue
> - ê°•ì˜ë¥¼ ì´í•´í•˜ê¸°ì— ê¸°ë³¸ê¸°ê°€ ë¶€ì¡±í•˜ì—¬ ê¸°ì´ˆ ê°•ì˜ë¥¼ ë”°ë¡œ ë“£ê³ ì™”ë‹¤.  
> [JAVA ê¸°ì´ˆ í•™ìŠµ ì •ë¦¬](https://github.com/cse0518/TIL/blob/main/JAVA/JAVA%20%EA%B8%B0%EC%B4%88%20%ED%95%99%EC%8A%B5.md)
> 
> ## â˜• íšŒê³ 
> - Interfaceë¥¼ ì•„ì§ í™œìš©í•˜ê¸°ê°€ ì–´ë µë‹¤. ì—°ìŠµ í•„ìš”.
> - ì˜ì¡´ì„± ì£¼ì…, ì˜ì¡´ì„± ì—­ì „ ë“± ì¶”ê°€ í•™ìŠµ í•„ìš”.
> - Interfaceì˜ default, static methodê°€ ì´í•´ê°€ ì•ˆëì—ˆëŠ”ë° ê¸°ì´ˆ ê°•ì˜ë¥¼ ë”°ë¡œ ë“£ê³ ì˜¤ë‹ˆ ì´í•´ê°€ ë°”ë¡œ ëœë‹¤!
> - ì¸í„´ í™œë™ì„ í•  ë–„ ëŒë‹¤ í‘œí˜„ì‹ì„ ë§ì´ ë´¤ì—ˆëŠ”ë° ê·¸ ë•ŒëŠ” ë¯¸ì§€ì˜ ì˜ì—­ì´ì—ˆì§€ë§Œ, ì´ë²ˆ ê¸°íšŒì— ëŒë‹¤ í‘œí˜„ì‹ì„ ë§ˆìŠ¤í„°í•´ì•¼ê² ë‹¤!!
> - ì œë„¤ë¦­ ë¶€ë¶„ì„ ë“£ë‹¤ê°€ ë˜ ì–´ë ¤ì›Œì„œ ìƒí™œì½”ë”© ê¸°ì´ˆ ê°•ì˜ë¥¼ ë³´ê³  ì™”ë‹¤.  
>   ê¸°ì´ˆ ê°•ì˜ë¥¼ ë¨¼ì € ë³´ê³ , ì‹¬í™” ê°•ì˜ë¥¼ ë³´ë‹ˆ ì‹¤ë ¥ì´ ì‘¥ì‘¥ ëŠëŠ”ë“¯í•˜ë‹¤! ğŸ‘

<br>

## Interfaceì˜ ê¸°ëŠ¥
- êµ¬í˜„ì´ ë˜ì–´ìˆì§€ ì•Šê³  implements í•´ì„œ ì“¸ ë•Œ êµ¬í˜„ì´ ê°•ì œë¨
- ë‹¤í˜•ì„± ì œê³µ
  
  <details>
  <summary> ë‹¤í˜•ì„± ì˜ˆì‹œ</summary>
  <div>

  ```java
  public interface Login {
      void login();
  }
  ```
  ```java
  class KakaoLogin implements Login {
      @Override
      public void login() {
          System.out.println("ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸");
      }
  }

  class NaverLogin implements Login {
      @Override
      public void login() {
          System.out.println("ë„¤ì´ë²„ ë¡œê·¸ì¸");
      }
  }

  public class Main {
      public static void main(String[] args) {
          KakaoLogin user1 = new KakaoLogin();
          user1.login(); // ì¼ë°˜ì ì¸ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸

          NaverLogin user2 = new NaverLogin();
          user1.login(); // ì¼ë°˜ì ì¸ ë„¤ì´ë²„ ë¡œê·¸ì¸

          // ë‹¤í˜•ì„±
          Login user1 = new KakaoLogin(); // Login ì¸í„°í˜ì´ìŠ¤ì˜ KakaoLoginë§Œ ì‚¬ìš©
          Login user2 = new NaverLogin(); // Login ì¸í„°í˜ì´ìŠ¤ì˜ NaverLoginë§Œ ì‚¬ìš©
      }
  }
  ```

  <br>

  - ë¡œê·¸ì¸ ê°ì²´ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œë¥¼ ë”°ë¡œ ëº€ë‹¤.
  ```java
  public class Main {
      public static void main(String[] args) {
          // getLogin ë©”ì†Œë“œë¡œ ìƒì„±í•  ê°ì²´ë¥¼ ë°›ì•„ì˜´.
          Login user = getLogin();
          user.login();
      }

      private static Login getLogin() {
          return new KakaoLogin(); // or NaverLogin();
      }
  }
  ```

  <br>

  - enum í´ë˜ìŠ¤ ìƒì„± (LoginTypeì„ parameterë¡œ)
    - Factory Pattern
  
  ```java
  public enum LoginType {
      Kakao, Naver
  }
  ```
  ```java
  public class Main {
      public static void main(String[] args) {
          // LoginType ì§€ì • ê°€ëŠ¥.
          Login user = getLogin(LoginType.Kakao);
          user.login();
      }

      // Factory Pattern - LoginTypeì— ë”°ë¼ ë¡œê·¸ì¸ ë°©ì‹ ê²°ì •
      private static Login getLogin(LoginType type) {
          if(type == LoginType.Kakao) return new KakaoLogin();
          return new NaverLogin();
      }
  }
  ```

  <br>

  - Login ê¸°ëŠ¥ì„ ë”°ë¡œ ì¸ìŠ¤í„´ìŠ¤ ë©”ì†Œë“œë¡œ ìƒì„±
  
  ```java
  public class Main {
      public static void main(String[] args) {
          // ì„¤ì • íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê³  ì½ì–´ì„œ Naver, Kakaoë§Œ ì§€ì • ê°€ëŠ¥
          new Main().run(LoginType.Naver);
      }

      // LoginType ì§€ì • ê°€ëŠ¥.
      void run(LoginType loginType) {
          Login user = getLogin(loginType);
          user.login();
      }

      // Factory Pattern
      private static Login getLogin(LoginType type) {
          if(type == LoginType.Kakao) return new KakaoLogin();
          return new NaverLogin();
      }
  }
  ```

  </div>
  </details>

<br>

- ê²°í•©ë„ ë‚®ì¶¤(ì˜ì¡´ì„± ì—­ì „)

  <details>
  <summary>ì˜ì¡´ì„± ì—­ì „ ì˜ˆì‹œ</summary>
  <div>

  - Loginì— ì˜ì¡´í•˜ëŠ” UserService í´ë˜ìŠ¤ë¥¼ ìƒì„±
  
  ```java
  public class UserService implements Login {
      private Login login;

      public UserService(Login login) {
          this.login = login;
      }

      @Override
      public void login() {
          login.login();
      }
  }
  ```
  ```java
  public class Main {
      public static void main(String[] args) {
          UserService us = new UserService(new KakaoLogin());
          us.login();
      }
  }
  ```

  </div>
  </details>

<br>

- ë‚´ê°€ ì´í•´í•œ ì˜ì¡´ì„± ì—­ì „  
![image](https://user-images.githubusercontent.com/60170616/128666546-7290f70f-6909-4521-b647-9c2d366871d2.png)
![image](https://user-images.githubusercontent.com/60170616/128666578-8cd9249e-ef55-4b72-9319-ba2ee30e40c5.png)
  - User Serviceì—ì„œ ê°ê°ì˜ Loginì— ì§ì ‘ ì—°ê²°ë˜ê¸°ë³´ë‹¤, ì¤‘ê°„ì— Login Interfaceë¥¼ ë†“ëŠ”ë‹¤ë©´ ì˜ì¡´ë„ê°€ ë‚®ì•„ì§„ë‹¤.
  - User Serviceì™€ ê°ê°ì˜ (Kakao, Naver) Loginì€ ê²°í•©ë„ê°€ ë‚®ì•„ì§„ë‹¤.
  - ì˜ì¡´ì„± ì£¼ì…: Dependency Injection (DI)
    - Login InterfaceëŠ” ì˜ì¡´ì„±ì„ ì£¼ì…ë°›ì•˜ë‹¤.
  - ì˜ì¡´ì„± ì—­ì „: Dependency Inversion
    - ì˜ì¡´ì„ í•˜ê²Œë  ë•Œ, êµ¬ìƒì²´ì— ì˜ì¡´í•˜ì§€ ë§ê³  ì¶”ìƒì²´ë¥¼ í†µí•´ì„œ ì˜ì¡´í•´ë¼.
    - User Service -> Login  
      Login <- Kakao, Naver Login  
      ì˜ì¡´ì˜ ë°©í–¥ì´ ë‹¤ë¥´ë‹¤ (ì—­ì „)
  <br>

  > User Serviceê°€ ë°”ë¡œ Kakao, Naver Loginì— ì—°ê²°ëœë‹¤ë©´, ìƒˆë¡œìš´ ë¡œê·¸ì¸(ex. Google Login)ì´ ì¶”ê°€ë  ë•Œ User Serviceì— ì˜í–¥ì´ ê°ˆ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.  
  > í•˜ì§€ë§Œ ì¤‘ê°„ì— Login Interfaceë¥¼ í†µí•´ì„œ ì œì–´ê°€ ëœë‹¤ë©´, User ServiceëŠ” ë³„ ì§€ì¥ ì—†ì´ ì„œë¹„ìŠ¤ë¥¼ ê³„ì†í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.  
  > (ì¤‘ê°„ì— Gateway, serverë¥¼ ë†“ëŠ” ëŠë‚Œìœ¼ë¡œ ë°›ì•„ë“¤ì˜€ë‹¤.)
##

## Default Method
- Interfaceê°€ êµ¬í˜„ì²´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
- ê¸°ë³¸ì ì¸ êµ¬í˜„ì„ ì œê³µí•˜ê³ , overrideê°€ í•„ìš”í•  ë•Œë§Œ overrideí•œë‹¤.

    ```java
    public interface MyInterface {
        void method1(); // êµ¬í˜„ X
        default void method2() { // defaultë¡œ ì„ ì–¸í•˜ì—¬ êµ¬í˜„ ê°€ëŠ¥
            System.out.println("method2");
        }
    }
    ```

- implements í–ˆì„ë•Œ method1ì€ ë°˜ë“œì‹œ override í•´ì•¼í•˜ê³ , method2ëŠ” ì¼ë‹¨ default methodë¥¼ ì‚¬ìš©(override ê°€ëŠ¥)
- interfaceì— **default methodê°€ ì—†ì—ˆì„ ë•Œ**ëŠ” ë”°ë¡œ adapter classë¥¼ ë§Œë“¤ì–´ interfaceë¥¼ implementsí•˜ê³ , ê·¸ adapter classë¥¼ extendsí•˜ì—¬ í•„ìš”í•œ methodë§Œ override í•´ì„œ ì¼ë‹¤. (interfaceë¥¼ ë°”ë¡œ implementsí•˜ë©´ method1, 2ë¥¼ ë‘˜ë‹¤ ì•ˆì“°ëŠ” methodê¹Œì§€ë„ override í•´ì¤˜ì•¼í•˜ê¸° ë•Œë¬¸)
- ê·¼ë° ë§Œì•½ ë‹¤ë¥¸ classë¥¼ ì´ë¯¸ ìƒì†ë°›ê³  ìˆë‹¤ë©´ (í•˜ë‚˜ì˜ classë§Œ ìƒì†ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—) ì´ ë°©ë²•ë„ ë¶ˆê°€.
- ì´ ë¬¸ì œë¥¼ default methodê°€ í•´ê²°!
- ë§¤ë²ˆ ê°™ì€ ê¸°ëŠ¥ì„ override í•´ì¤˜ì•¼í–ˆë˜ ë¬¸ì œë„ í•´ê²°!

### Static Method
- interfaceì—ì„œ methodë¥¼ êµ¬í˜„í•´ì£¼ê³ , override ë¶ˆê°€ëŠ¥.
- í•¨ìˆ˜ë¥¼ ì œê³µí•´ì£¼ëŠ” interface ì—­í• 
##

## í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤
- **ì¶”ìƒ ë©”ì†Œë“œê°€ í•˜ë‚˜ë§Œ ì¡´ì¬**í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
- `@FunctionalInterface`
- default method, static methodê°€ ì—¬ëŸ¬ê°œ ìˆì–´ë„ ì¶”ìƒ ë©”ì†Œë“œê°€ í•˜ë‚˜ë§Œ ìˆìœ¼ë©´ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤.
##

## ìµëª… í´ë˜ìŠ¤
- InterfaceëŠ” ë°”ë¡œ ê°ì²´ë¡œ ìƒì„±í•  ìˆ˜ ì—†ê¸° ë–„ë¬¸ì— ìƒˆë¡œìš´ classë¥¼ ìƒì„±í•˜ê³ , interfaceë¥¼ implements í•´ì„œ override í•œ í›„ì— ê·¸ classë¥¼new ì¸ìŠ¤í„´ìŠ¤ë¡œ ìƒì„±í–ˆë‹¤.
- ì´ ë²ˆê±°ë¡œìš´ ê³¼ì •ì´ ë°˜ë³µë˜ì–´ interface ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°”ë¡œ ìƒì„±í•˜ê³  ì‹¶ì—ˆë‹¤.
    ```java
    // ì´ê²ƒì„
    class Class1 implements Interface1 {
        @Override
        public String sayHello() {
            return "hello";
        }
    }

    // ì´ë ‡ê²Œ í•˜ê³  ì‹¶ë‹¤
    new (class Class1 implements Interface1 {
        @Override
        public String sayHello() {
            return "hello";
        }
    }).sayHello();

    // ì´ë¦„ ì—†ëŠ” Class1ì„ ìƒëµí•œë‹¤ => ìµëª… í´ë˜ìŠ¤
    new Interface1() {
        @Override
        public String sayHello() {
            return "hello";
        }
    }.sayHello();

    // ìœ„ì—ì„œ .sayHello()ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì€
    // Interface1 typeìœ¼ë¡œ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ì´ ëœë‹¤ëŠ” ê²ƒ!
    Interface1 interface1 = new Interface1() {
        @Override
        public String sayHello() {
            return "hello";
        }
    };

    interface1.sayHello();
    ```
##

## ëŒë‹¤ í‘œí˜„ì‹
- Interfaceë¥¼ new ì¸ìŠ¤í„´ìŠ¤ë¡œ ìƒì„±í–ˆë‹¤ë©´ overrideë¥¼ ë¬´ì¡°ê±´ í•´ì¤˜ì•¼í•˜ëŠ”ë°, ê·¸ ê³¼ì •ì€ ê³„ì† ë°˜ë³µë˜ì–´ì„œ ë¹„íš¨ìœ¨ì ì´ë‹¤. ì´ë¥¼ ê°„ë‹¨í•˜ê²Œ í•´ì£¼ëŠ” ê²ƒì´ ëŒë‹¤ í‘œí˜„ì‹.
- **Functional Interface ì—ì„œë§Œ ê°€ëŠ¥**
    ```java
    // ìµëª… í´ë˜ìŠ¤
    MyInterface interface1 = new MyInterface() {
        @Override
        public String sayHello() {
            return "hello";
        }
    };

    // ëŒë‹¤ í‘œí˜„ì‹ -> ìµëª… ë©”ì†Œë“œ ì‚¬ìš©
    MyInterface interface2 = () -> "hello";

    interface1.sayHello();
    interface2.sayHello();

    /* ì˜ˆì‹œ í•˜ë‚˜ ë” */
    MyInterface3 interface3 = new MyInterface3() {
        @Override
        public void printInt(int i) {
            System.out.println(i);
        }
    };

    // ëŒë‹¤ í‘œí˜„ì‹
    MyInterface3 interface3 = i -> System.out.println(i);
    ```
##

## Method Reference
- ëŒë‹¤ í‘œí˜„ì‹ì„ ë” ê°„ê²°í•˜ê²Œ í‘œí˜„
- parameterë¡œ ë“¤ì–´ì˜¨ ê°’ì„ **ë³€ê²½ ì—†ì´** ë°”ë¡œ ì‹¤í–‰í•  ë•Œ
- 'ë³€ê²½ ì—†ì´' ë°”ë¡œ ì‹¤í–‰í•œë‹¤ëŠ” ì ì´ ë³€ê²½ì„ í•˜ì§€ ë§ë¼ëŠ” í‘œí˜„ ë°©ì‹ìœ¼ë¡œë„ ìƒê°í•  ìˆ˜ ìˆë‹¤.
    ```java
    // ìµëª… í´ë˜ìŠ¤
    MyInterface myInterface = new MyInterface() {
        @Override
        public void printInt(int i) {
            System.out.println(i);
        }
    };

    // ëŒë‹¤ í‘œí˜„ì‹
    MyInterface myInterface = i -> System.out.println(i);

    // Method Reference
    MyInterface myInterface = System.out::println // parameterë¡œ ë“¤ì–´ì˜¨ ê°’ì„ ê·¸ëŒ€ë¡œ println
##

## Generic
- ë°ì´í„° íƒ€ì…ì„ ì¼ë°˜í™”í•œë‹¤(generalize)
- í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ë°ì´í„° íƒ€ì…ì„ ì™¸ë¶€ì—ì„œ ì§€ì •í•˜ëŠ” ê¸°ë²•
<br>
> // ë‚´ê°€ ì´í•´í•œ ì œë„¤ë¦­  
> í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•  ë•Œ ì¼ë‹¨ ë³€ìˆ˜ë¡œ ë°ì´í„° íƒ€ì…ì„ ì§€ì •í•´ë†“ê³ ,  
> ë‚˜ì¤‘ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ë°ì´í„° íƒ€ì…ì„ í™•ì‹¤íˆ ì§€ì •í•œë‹¤.

```java
// ìƒí™œì½”ë”©ë‹˜ì˜ ì˜ˆì‹œ
class Person<T> { // ì¼ë‹¨ ë³€ìˆ˜ Të¡œ ë°ì´í„° íƒ€ì… ì§€ì •
    public T info;
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•  ë•Œ ë°ì´í„° íƒ€ì… ì§€ì •
Person<String> p1 = new Person<String>();
Person<StringBuilder> p2 = new Person<StringBuilder>();
``` 

3647
https://codechacha.com/ko/java8-method-reference/